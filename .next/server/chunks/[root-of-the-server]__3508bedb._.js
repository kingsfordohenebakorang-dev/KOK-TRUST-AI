module.exports=[18622,(e,t,a)=>{t.exports=e.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(e,t,a)=>{t.exports=e.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(e,t,a)=>{t.exports=e.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},24725,(e,t,a)=>{t.exports=e.x("next/dist/server/app-render/after-task-async-storage.external.js",()=>require("next/dist/server/app-render/after-task-async-storage.external.js"))},70406,(e,t,a)=>{t.exports=e.x("next/dist/compiled/@opentelemetry/api",()=>require("next/dist/compiled/@opentelemetry/api"))},93695,(e,t,a)=>{t.exports=e.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},99280,e=>{"use strict";var t,a=e.i(47909),r=e.i(74017),n=e.i(96250),i=e.i(59756),o=e.i(61916),s=e.i(74677),l=e.i(69741),u=e.i(16795),c=e.i(87718),d=e.i(95169),p=e.i(47587),h=e.i(66012),m=e.i(70101),f=e.i(74838),x=e.i(10372),v=e.i(93695);e.i(52474);var g=e.i(220),y=e.i(89171);async function w(e){await new Promise(e=>setTimeout(e,1200));let t=e.toLowerCase();return t.includes("annuity")?{steps:[{id:"1",latex:"\\ddot{a}_{\\overline{n}|} = \\sum_{t=0}^{n-1} v^t",explanation:"Define the annuity-due as the sum of discounted payments."},{id:"2",latex:"\\ddot{a}_{\\overline{n}|} = \\frac{1 - v^n}{d}",explanation:"Apply the geometric series formula, where $d = 1 - v$."}],final_answer:"\\frac{1 - v^n}{i/(1+i)}",source:"SymPy Symbolic Engine"}:t.includes("force of interest")||t.includes("delta")?{steps:[{id:"1",latex:"v(t) = e^{-\\int_0^t \\delta(s) ds}",explanation:"Calculate the discount function from the accumulation function."},{id:"2",latex:"\\bar{A}_x = \\int_0^\\infty v(t) \\cdot {}_tp_x \\cdot \\mu_{x+t} \\, dt",explanation:"The actuarial present value for a continuous whole life insurance."}],final_answer:"\\frac{\\mu}{\\mu + \\delta}",source:"SymPy Symbolic Engine (Constant Force Assumption)"}:{steps:[{id:"1",latex:"E[S] = E[N] \\cdot E[X]",explanation:"Calculate the expected aggregate loss under the collective risk model."},{id:"2",latex:"Var(S) = E[N] \\cdot Var(X) + Var(N) \\cdot (E[X])^2",explanation:"Apply the law of total variance."}],final_answer:"E[N]Var(X) + Var(N)(E[X])^2",source:"Standard Risk Theory Formulas"}}let $=[{id:"c1",label:"Concept",name:"Survival Function"},{id:"c2",label:"Concept",name:"Force of Mortality"},{id:"c3",label:"Concept",name:"Life Table"},{id:"f1",label:"Formula",name:"S_x(t) = exp(-integral mu)"},{id:"e1",label:"Exam",name:"Exam FAM"},{id:"t1",label:"Theorem",name:"Law of Large Numbers"}],E=[{source:"c2",target:"c1",relationship:"DERIVED_FROM"},{source:"f1",target:"c1",relationship:"DEFINES"},{source:"c1",target:"e1",relationship:"TESTED_IN"},{source:"c3",target:"c1",relationship:"DEPENDS_ON"}],R=new class{async queryConcept(e){await new Promise(e=>setTimeout(e,500));let t=$.filter(t=>t.name.toLowerCase().includes(e.toLowerCase())||E.some(a=>a.source===t.id&&a.target===$.find(t=>t.name.toLowerCase().includes(e.toLowerCase()))?.id)),a=E.filter(e=>t.some(t=>t.id===e.source||t.id===e.target));return{nodes:t,edges:a}}async getRelatedFormulas(e){return(await this.queryConcept(e)).nodes.filter(e=>"Formula"===e.label)}async getExamMapping(e){return(await this.queryConcept(e)).nodes.filter(e=>"Exam"===e.label).map(e=>e.name)}};(t={}).COMPUTATIONAL="COMPUTATIONAL",t.CONCEPTUAL="CONCEPTUAL",t.HYBRID="HYBRID";let C=new class{classify(e){let t=e.toLowerCase();return t.includes("calculate")||t.includes("solve")||t.includes("value of")?t.includes("explain")||t.includes("why")?"HYBRID":"COMPUTATIONAL":t.includes("what is")||t.includes("model")||t.includes("concept")?"CONCEPTUAL":"HYBRID"}async process(e,t="study"){if("tutor"===t){console.log("[Router] Processing query in TUTOR mode"),await new Promise(e=>setTimeout(e,2e3));let t=e.toLowerCase();return{type:"CONCEPTUAL",steps:[],final_answer:"",source:"Actuarial Tutor Engine",content:t.includes("variance")&&t.includes("annuity")?`
### 1. Problem Statement
Calculate the variance of the present value random variable for a whole life annuity-due of 1 per year issued to (x).

### 2. Variables and Assumptions
- Let $Y$ be the present value random variable.
- Let $K_x$ be the curtate future lifetime of (x).
- Interest rate $i$ is constant. $v = 1/(1+i)$.
- Benefit is 1 per year at the beginning of each year while (x) survives.
$$ Y = \\ddot{a}_{\\overline{K_x+1}|} $$

### 3. Derivation
We know that:
$$ \\ddot{a}_{\\overline{K_x+1}|} = \\frac{1 - v^{K_x+1}}{d} $$
Thus, the variance is:
$$ Var(Y) = Var\\left( \\frac{1 - v^{K_x+1}}{d} \\right) $$
Pulling out the constant $1/d$:
$$ Var(Y) = \\frac{1}{d^2} Var(1 - v^{K_x+1}) $$
Since $Var(aX + b) = a^2 Var(X)$, and constants have 0 variance:
$$ Var(Y) = \\frac{1}{d^2} Var(v^{K_x+1}) $$
Recall the definition of actuarial symbols:
$$ E[v^{K_x+1}] = A_x $$
$$ E[(v^{K_x+1})^2] = E[v^{2(K_x+1)}] = {}^2A_x $$
Therefore:
$$ Var(v^{K_x+1}) = E[(v^{K_x+1})^2] - (E[v^{K_x+1}])^2 = {}^2A_x - (A_x)^2 $$

### 4. Final Result
$$ \\boxed{ Var(Y) = \\frac{{}^2A_x - (A_x)^2}{d^2} } $$

### Summary
The variance of an annuity is derived from the variance of the insurance benefit, scaled by the discount rate squared. This relationship is crucial for understanding the dispersion of annuity costs.

### Practice Question
Derive the variance for a temporary life annuity-due of term $n$.
            `:`
### 1. Problem Statement
Determine the value or derivation for: "${e}".

### 2. General Approach
- Identify the key actuarial concepts (e.g., Time Value of Money, Survival Models).
- Define the random variable $Z$ or $Y$.
- Apply the appropriate expectation or variance operators.

### 3. Derivation Template
Assume a standard standard actuarial model.
$$ Value = E[PV(Benefits)] - E[PV(Premiums)] $$
For numerical queries, we would plug in specific mortality table values (e.g., SULT or ELT-15).

### 4. Result
$$ \\boxed{ \\text{See derivation above} } $$

*(Note: In a real implementation with LLM access, this would be a specific solution generated by the model.)*

### Summary
Actuarial problems often reduce to finding the first and second moments of the present value random variable.

### Practice Question
Try calculating the Net Single Premium for a 10-year endowment assurance.
            `}}let a=this.classify(e);console.log(`[Router] Processing query as ${a}`);let r=[],n="",i=null,o="General Knowledge";switch(a){case"COMPUTATIONAL":case"HYBRID":let s=await w(e);if(r=s.steps,n=s.final_answer,o=s.source,"HYBRID"===a){let t=e.split(" ").filter(e=>e.length>5);t.length>0&&(i=await R.queryConcept(t[0]))}break;case"CONCEPTUAL":let l=await R.queryConcept(e);i=l,o="Actuarial Knowledge Graph",n=`Found ${l.nodes.length} related concepts in the Knowledge Graph.`,r=l.nodes.map(e=>({id:e.id,latex:"Formula"===e.label?e.name:"",explanation:`${e.label}: ${e.name}`}))}return{type:a,steps:r,graph_context:i,final_answer:n,source:o}}};async function b(e){try{let{message:t,history:a,mode:r}=await e.json(),n=await C.process(t,r||"study"),i=n.graph_context?n.graph_context:null;return y.NextResponse.json({role:"assistant",content:n.content||`According to ${n.source} derived for your query: "${t}"`,steps:n.steps,final_answer:n.final_answer,citations:[{source:n.source,page:42,confidence:.95}],graph_context:i})}catch(e){return y.NextResponse.json({error:"Failed to process request"},{status:500})}}e.s(["POST",()=>b],1351);var _=e.i(1351);let A=new a.AppRouteRouteModule({definition:{kind:r.RouteKind.APP_ROUTE,page:"/api/chat/route",pathname:"/api/chat",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/src/app/api/chat/route.ts",nextConfigOutput:"",userland:_}),{workAsyncStorage:T,workUnitAsyncStorage:P,serverHooks:N}=A;function S(){return(0,n.patchFetch)({workAsyncStorage:T,workUnitAsyncStorage:P})}async function O(e,t,a){A.isDev&&(0,i.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let n="/api/chat/route";n=n.replace(/\/index$/,"")||"/";let y=await A.prepare(e,t,{srcPage:n,multiZoneDraftMode:!1});if(!y)return t.statusCode=400,t.end("Bad Request"),null==a.waitUntil||a.waitUntil.call(a,Promise.resolve()),null;let{buildId:w,params:$,nextConfig:E,parsedUrl:R,isDraftMode:C,prerenderManifest:b,routerServerContext:_,isOnDemandRevalidate:T,revalidateOnlyGenerated:P,resolvedPathname:N,clientReferenceManifest:S,serverActionsManifest:O}=y,q=(0,l.normalizeAppPath)(n),D=!!(b.dynamicRoutes[q]||b.routes[N]),I=async()=>((null==_?void 0:_.render404)?await _.render404(e,t,R,!1):t.end("This page could not be found"),null);if(D&&!C){let e=!!b.routes[N],t=b.dynamicRoutes[q];if(t&&!1===t.fallback&&!e){if(E.experimental.adapterPath)return await I();throw new v.NoFallbackError}}let L=null;!D||A.isDev||C||(L="/index"===(L=N)?"/":L);let U=!0===A.isDev||!D,k=D&&!U;O&&S&&(0,s.setManifestsSingleton)({page:n,clientReferenceManifest:S,serverActionsManifest:O});let K=e.method||"GET",V=(0,o.getTracer)(),F=V.getActiveScopeSpan(),H={params:$,prerenderManifest:b,renderOpts:{experimental:{authInterrupts:!!E.experimental.authInterrupts},cacheComponents:!!E.cacheComponents,supportsDynamicResponse:U,incrementalCache:(0,i.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:E.cacheLife,waitUntil:a.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,a,r,n)=>A.onRequestError(e,t,r,n,_)},sharedContext:{buildId:w}},M=new u.NodeNextRequest(e),j=new u.NodeNextResponse(t),B=c.NextRequestAdapter.fromNodeNextRequest(M,(0,c.signalFromNodeResponse)(t));try{let s=async e=>A.handle(B,H).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let a=V.getRootSpanAttributes();if(!a)return;if(a.get("next.span_type")!==d.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${a.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let r=a.get("next.route");if(r){let t=`${K} ${r}`;e.setAttributes({"next.route":r,"http.route":r,"next.span_name":t}),e.updateName(t)}else e.updateName(`${K} ${n}`)}),l=!!(0,i.getRequestMeta)(e,"minimalMode"),u=async i=>{var o,u;let c=async({previousCacheEntry:r})=>{try{if(!l&&T&&P&&!r)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let n=await s(i);e.fetchMetrics=H.renderOpts.fetchMetrics;let o=H.renderOpts.pendingWaitUntil;o&&a.waitUntil&&(a.waitUntil(o),o=void 0);let u=H.renderOpts.collectedTags;if(!D)return await (0,h.sendResponse)(M,j,n,H.renderOpts.pendingWaitUntil),null;{let e=await n.blob(),t=(0,m.toNodeOutgoingHttpHeaders)(n.headers);u&&(t[x.NEXT_CACHE_TAGS_HEADER]=u),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let a=void 0!==H.renderOpts.collectedRevalidate&&!(H.renderOpts.collectedRevalidate>=x.INFINITE_CACHE)&&H.renderOpts.collectedRevalidate,r=void 0===H.renderOpts.collectedExpire||H.renderOpts.collectedExpire>=x.INFINITE_CACHE?void 0:H.renderOpts.collectedExpire;return{value:{kind:g.CachedRouteKind.APP_ROUTE,status:n.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:a,expire:r}}}}catch(t){throw(null==r?void 0:r.isStale)&&await A.onRequestError(e,t,{routerKind:"App Router",routePath:n,routeType:"route",revalidateReason:(0,p.getRevalidateReason)({isStaticGeneration:k,isOnDemandRevalidate:T})},!1,_),t}},d=await A.handleResponse({req:e,nextConfig:E,cacheKey:L,routeKind:r.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:b,isRoutePPREnabled:!1,isOnDemandRevalidate:T,revalidateOnlyGenerated:P,responseGenerator:c,waitUntil:a.waitUntil,isMinimalMode:l});if(!D)return null;if((null==d||null==(o=d.value)?void 0:o.kind)!==g.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==d||null==(u=d.value)?void 0:u.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});l||t.setHeader("x-nextjs-cache",T?"REVALIDATED":d.isMiss?"MISS":d.isStale?"STALE":"HIT"),C&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let v=(0,m.fromNodeOutgoingHttpHeaders)(d.value.headers);return l&&D||v.delete(x.NEXT_CACHE_TAGS_HEADER),!d.cacheControl||t.getHeader("Cache-Control")||v.get("Cache-Control")||v.set("Cache-Control",(0,f.getCacheControlHeader)(d.cacheControl)),await (0,h.sendResponse)(M,j,new Response(d.value.body,{headers:v,status:d.value.status||200})),null};F?await u(F):await V.withPropagatedContext(e.headers,()=>V.trace(d.BaseServerSpan.handleRequest,{spanName:`${K} ${n}`,kind:o.SpanKind.SERVER,attributes:{"http.method":K,"http.target":e.url}},u))}catch(t){if(t instanceof v.NoFallbackError||await A.onRequestError(e,t,{routerKind:"App Router",routePath:q,routeType:"route",revalidateReason:(0,p.getRevalidateReason)({isStaticGeneration:k,isOnDemandRevalidate:T})},!1,_),D)throw t;return await (0,h.sendResponse)(M,j,new Response(null,{status:500})),null}}e.s(["handler",()=>O,"patchFetch",()=>S,"routeModule",()=>A,"serverHooks",()=>N,"workAsyncStorage",()=>T,"workUnitAsyncStorage",()=>P],99280)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__3508bedb._.js.map